{
	"info": {
		"_postman_id": "po-complete-api-2026",
		"name": "Purchase Order - Complete API Collection",
		"description": "Complete API collection for Purchase Orders including creation from PR, approval workflow, receiving, reporting and attachments",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set(\"access_token\", jsonData.data.access);",
									"    pm.environment.set(\"refresh_token\", jsonData.data.refresh);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"admin@company.com\",\n    \"password\": \"your_password\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login/",
							"host": ["{{base_url}}"],
							"path": ["auth", "login", ""]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Purchase Orders",
			"item": [
				{
					"name": "List POs",
					"request": {
						"method": "GET",
						"header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
						"url": {
							"raw": "{{base_url}}/procurement/po/?status=&supplier_id=&po_type=",
							"host": ["{{base_url}}"],
							"path": ["procurement", "po", ""],
							"query": [
								{"key": "status", "value": "", "description": "DRAFT/SUBMITTED/APPROVED/CONFIRMED/CLOSED/CANCELLED"},
								{"key": "supplier_id", "value": ""},
								{"key": "po_type", "value": "", "description": "Catalog/Non-Catalog/Service"}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create PO from PR Items",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Authorization", "value": "Bearer {{access_token}}"},
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"po_date\": \"2026-01-26\",\n    \"expected_delivery_date\": \"2026-02-28\",\n    \"supplier_id\": 5,\n    \"currency_id\": 1,\n    \"payment_terms\": \"Net 30\",\n    \"delivery_location\": \"Main Warehouse - Building A\",\n    \"notes\": \"Standard delivery instructions apply\",\n    \"segment_combination_id\": 5,\n    \"lines\": [\n        {\n            \"pr_item_id\": 15,\n            \"quantity\": \"5\",\n            \"unit_price\": \"1200.00\",\n            \"tax_rate\": \"15.00\",\n            \"discount_percentage\": \"5.00\",\n            \"notes\": \"Bulk discount applied\"\n        },\n        {\n            \"pr_item_id\": 16,\n            \"quantity\": \"5\",\n            \"unit_price\": \"45.00\",\n            \"tax_rate\": \"15.00\"\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/procurement/po/",
							"host": ["{{base_url}}"],
							"path": ["procurement", "po", ""]
						}
					},
					"response": []
				},
				{
					"name": "Get PO Detail",
					"request": {
						"method": "GET",
						"header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
						"url": {
							"raw": "{{base_url}}/procurement/po/{{po_id}}/",
							"host": ["{{base_url}}"],
							"path": ["procurement", "po", "{{po_id}}", ""]
						}
					},
					"response": []
				},
				{
					"name": "Update PO",
					"request": {
						"method": "PATCH",
						"header": [
							{"key": "Authorization", "value": "Bearer {{access_token}}"},
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"expected_delivery_date\": \"2026-03-15\",\n    \"notes\": \"Updated delivery date as per supplier request\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/procurement/po/{{po_id}}/",
							"host": ["{{base_url}}"],
							"path": ["procurement", "po", "{{po_id}}", ""]
						}
					},
					"response": []
				},
				{
					"name": "Delete PO",
					"request": {
						"method": "DELETE",
						"header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
						"url": {
							"raw": "{{base_url}}/procurement/po/{{po_id}}/",
							"host": ["{{base_url}}"],
							"path": ["procurement", "po", "{{po_id}}", ""]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "PO Workflow",
			"item": [
				{
					"name": "Submit PO for Approval",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Authorization", "value": "Bearer {{access_token}}"},
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {"mode": "raw", "raw": "{}"},
						"url": {
							"raw": "{{base_url}}/procurement/po/{{po_id}}/submit/",
							"host": ["{{base_url}}"],
							"path": ["procurement", "po", "{{po_id}}", "submit", ""]
						}
					},
					"response": []
				},
				{
					"name": "Get Pending POs",
					"request": {
						"method": "GET",
						"header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
						"url": {
							"raw": "{{base_url}}/procurement/po/pending-approvals/",
							"host": ["{{base_url}}"],
							"path": ["procurement", "po", "pending-approvals", ""]
						}
					},
					"response": []
				},
				{
					"name": "Approve/Reject PO",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Authorization", "value": "Bearer {{access_token}}"},
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\": \"approve\",\n    \"comments\": \"Purchase order approved\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/procurement/po/{{po_id}}/approval-action/",
							"host": ["{{base_url}}"],
							"path": ["procurement", "po", "{{po_id}}", "approval-action", ""]
						}
					},
					"response": []
				},
				{
					"name": "Confirm PO",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Authorization", "value": "Bearer {{access_token}}"},
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"confirmation_notes\": \"PO sent to supplier\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/procurement/po/{{po_id}}/confirm/",
							"host": ["{{base_url}}"],
							"path": ["procurement", "po", "{{po_id}}", "confirm", ""]
						}
					},
					"response": []
				},
				{
					"name": "Cancel PO",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Authorization", "value": "Bearer {{access_token}}"},
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"cancellation_reason\": \"Supplier unavailable\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/procurement/po/{{po_id}}/cancel/",
							"host": ["{{base_url}}"],
							"path": ["procurement", "po", "{{po_id}}", "cancel", ""]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "PO Receiving",
			"item": [
				{
					"name": "Get PO Receiving Status",
					"request": {
						"method": "GET",
						"header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
						"url": {
							"raw": "{{base_url}}/procurement/po/{{po_id}}/receiving-status/",
							"host": ["{{base_url}}"],
							"path": ["procurement", "po", "{{po_id}}", "receiving-status", ""]
						}
					},
					"response": []
				},
				{
					"name": "Get PO Lines Available for Receiving",
					"request": {
						"method": "GET",
						"header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
						"url": {
							"raw": "{{base_url}}/procurement/po/{{po_id}}/lines-for-receiving/",
							"host": ["{{base_url}}"],
							"path": ["procurement", "po", "{{po_id}}", "lines-for-receiving", ""]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "PO Reports",
			"item": [
				{
					"name": "Get PO Summary",
					"request": {
						"method": "GET",
						"header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
						"url": {
							"raw": "{{base_url}}/procurement/po/{{po_id}}/summary/",
							"host": ["{{base_url}}"],
							"path": ["procurement", "po", "{{po_id}}", "summary", ""]
						}
					},
					"response": []
				},
				{
					"name": "Get Open POs Report",
					"request": {
						"method": "GET",
						"header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
						"url": {
							"raw": "{{base_url}}/procurement/po/open-orders/?supplier_id=&from_date=&to_date=",
							"host": ["{{base_url}}"],
							"path": ["procurement", "po", "open-orders", ""],
							"query": [
								{"key": "supplier_id", "value": ""},
								{"key": "from_date", "value": ""},
								{"key": "to_date", "value": ""}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Overdue POs Report",
					"request": {
						"method": "GET",
						"header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
						"url": {
							"raw": "{{base_url}}/procurement/po/overdue-orders/",
							"host": ["{{base_url}}"],
							"path": ["procurement", "po", "overdue-orders", ""]
						}
					},
					"response": []
				},
				{
					"name": "Get Pending Receipts Report",
					"request": {
						"method": "GET",
						"header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
						"url": {
							"raw": "{{base_url}}/procurement/po/pending-receipts/",
							"host": ["{{base_url}}"],
							"path": ["procurement", "po", "pending-receipts", ""]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "PO Attachments",
			"item": [
				{
					"name": "List PO Attachments",
					"request": {
						"method": "GET",
						"header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
						"url": {
							"raw": "{{base_url}}/procurement/po/{{po_id}}/attachments/",
							"host": ["{{base_url}}"],
							"path": ["procurement", "po", "{{po_id}}", "attachments", ""]
						}
					},
					"response": []
				},
				{
					"name": "Upload PO Attachment",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Authorization", "value": "Bearer {{access_token}}"},
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"file_name\": \"signed_po.pdf\",\n    \"file_type\": \"application/pdf\",\n    \"description\": \"Signed purchase order\",\n    \"file_data_base64\": \"JVBERi0xLjQKJeLjz9MKMy...\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/procurement/po/{{po_id}}/attachments/",
							"host": ["{{base_url}}"],
							"path": ["procurement", "po", "{{po_id}}", "attachments", ""]
						}
					},
					"response": []
				},
				{
					"name": "Get Attachment Detail",
					"request": {
						"method": "GET",
						"header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
						"url": {
							"raw": "{{base_url}}/procurement/po/attachments/{{attachment_id}}/",
							"host": ["{{base_url}}"],
							"path": ["procurement", "po", "attachments", "{{attachment_id}}", ""]
						}
					},
					"response": []
				},
				{
					"name": "Delete Attachment",
					"request": {
						"method": "DELETE",
						"header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
						"url": {
							"raw": "{{base_url}}/procurement/po/attachments/{{attachment_id}}/",
							"host": ["{{base_url}}"],
							"path": ["procurement", "po", "attachments", "{{attachment_id}}", ""]
						}
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{"key": "base_url", "value": "http://localhost:8000", "type": "string"},
		{"key": "po_id", "value": "1", "type": "string"},
		{"key": "attachment_id", "value": "1", "type": "string"},
		{"key": "access_token", "value": "", "type": "string"}
	]
}
